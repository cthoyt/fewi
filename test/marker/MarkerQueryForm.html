<html xmlns:concordion="http://www.concordion.org/2007/concordion" xmlns:cc="http://fewi.custom.commands.FewiExtensions">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<style>
	table {border-collapse: collapse; padding-bottom:5px; margin-bottom:5px;}
	table, th, td {border: 1px solid #CCCCCC;}
	td, th {padding:2px;}
	.man {background-color:#FFFFCC;}
	ul {padding: 0px; padding-bottom:3px; padding-top:0px; margin: 0px;}
	ol {padding: 0px; padding-bottom:3px; padding-top:0px; margin: 0px;}
	li {padding-left:2px; padding-top:0px; padding-bottom:0px; margin-left:25px;}
	p {margin:2px 0px;}
</style>
<!-- declare strict doctype to look for disallowed html errors
 **  **  **  **  ** REMOVE THE LINE before committing the file **  **  **  **  **  **  **
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
 **  **  **  **  ** REMOVE THE LINE before committing the file **  **  **  **  **  **  **
-->


    <title>Marker Query Form</title>
</head>


<body>

<div id="TOC">
	<p>Contents: <a href="#maintitle">Title</a> | <a href="#acceptance">Acceptance Criteria</a> | <a href="#definitions">Definitions</a> | <a href="#logic">Logic Summary</a> | <a href="#manual">Manual Tests</a> | <a href="#auto">Automated Tests</a></p>
</div>

<div id="maintitle">
    <h1>Marker Query Form</h1>
    <ul>
        <li>User story 163, E9: MQ&amp;S: Search Functionality (MGI 5.18)</li>
        <li>User story 165, E9: MQ&amp;S: Query form on summary page (5.18)</li>
    </ul>
</div>


<div id="acceptance">
    <h2>Acceptance Criteria</h2>
	<ul>
		<li>Small differences due to using a different text search engines are OK. Determining if a difference if "small" is mainly a judgement call by the SME, I think.</li>
		<li>nomen search has no operator - as in allele and GXD forms</li>
		<li>verify GO and InterPro work ok</li>
		<li>add pheno system selection box</li>
		<li>other fields should give exactly the same results, e.g., a query by coordinates, or GO term	</li>
		<li>sto165: MQF appears at top of marker summary page</li>
		<li>sto165: openey/closey</li>
		<li>sto165: form parameters correctly populated (include affected systems dialog)</li>
	</ul>
</div>


<div id="definitions">
	<h2>Definitions</h2>
	<dl>
		<dt>Term</dt>
		<dd>definition line 1</dd>
		<dd>definition line 2</dd>
	</dl>
</div>


<div id="logic">
	<h2>Logic Summary</h2>
	<p>This test suite is concerned primarily with look-and-feel of the Query Form, and small pieces of functionality that exist within the form itself.  Searching functionality is described in the Marker Summary From Query test suite.</p>
</div>




<div id="tests">
    <h2>Tests</h2>
    <p>Skip to <a href="#manual">Manual Tests</a> |  <a href="#auto">Automated Tests</a></p>
	<div id="manual">
<!-- To insert manual test results, use the following:
<p concordion:assertTrue="true">testing assertTrue - displays as green</p>
<p concordion:assertTrue="false">testing assertFalse - displays as red</p>
 -->
		<h3>Manual tests</h3>
		<ol>
    		<li>The query form has 6 ribbons:
    		<ul>
    			<li>Gene/Marker</li>
    			<li>Feature type</li>
    			<li>Map position</li>
    			<li>Gene Ontology classifications</li>
    			<li>Protein domains</li>
    			<li>Mouse phenotypes &amp; mouse models of human disease</li>
    		</ul>
 			<p concordion:assertTrue="true">passed. -klf 3/31/2014</p>
    		<ol>
                <li>Open the Marker Query Form.</li>
                <li>Verify that the 6 ribbons exist.</li>
    		</ol>
    		</li>
    		
    		<li>The Gene/Marker ribbon contains an input text field and some suggestions. The input text field itself contains text indicating what data may be entered.
 			<p concordion:assertTrue="true">passed. -klf 3/31/2014</p>
    		<ol>
                <li>Verify the ribbon contains the elements described.</li>
    		</ol>
    		</li>

    		<li>The Feature type ribbon contains an interactive tree structure displaying values from the "Marker Category" vocabulary (_vocab_key = 79) that have associated marker data; each term has a selection check box.  Each term has a popup triggered onMouseover with its definition.
 			<p concordion:assertTrue="true">passed. -klf 4/1/2014</p>
    		<ol>
                <li>Verify the ribbon contains the elements described.</li>
    		</ol>
    		</li>

    		<li>The Map position ribbon contains:
    		<ul>
    			<li>A multiselect combo-box input element for chromosomes</li>
    			<li>An input text field for cM Position</li>
    			<li>An input text field for Genome Coordinates</li>
    			<li>A selection input element for bp or Mbp units</li>
    			<li>Two input text fields for Marker Range</li>
    			<li>Some suggestions and additional help text</li>
    		</ul>
 			<p concordion:assertTrue="true">passed. -klf 3/31/2014</p>
    		<ol>
                <li>Verify the ribbon contains the elements described.</li>
    		</ol>
    		</li>

    		<li>The Gene Ontology classifications ribbon contains:
    		<ul>
    			<li>An input text field for GO term/ID.</li>
    			<li>Three GO vocabulary names with checkbox inputs.</li>
    			<li>Some suggestions text.</li>
    			<li>Link to the GO browser page.</li>
    		</ul>
 			<p concordion:assertTrue="true">passed. -klf 3/31/2014</p>
    		<ol>
                <li>Verify the ribbon contains the elements described.</li>
    		</ol>
    		</li>

    		<li>The Protein domains ribbon contains:
    		<ul>
    			<li>An input text field for InterPro term/ID.</li>
    			<li>Some suggestions text.</li>
    			<li>Link to the InterPro genes report	.</li>
    		</ul>
 			<p concordion:assertTrue="true">passed. -klf 3/31/2014</p>
    		<ol>
                <li>Verify the ribbon contains the elements described.</li>
    		</ol>
    		</li>

    		<li>The Mouse phenotypes &amp; mouse models of human disease ribbon contains:
    		<ul>
    			<li>An input text field for MP/OMIM term/ID.</li>
    			<li>Popup to select Anatomical System(s). <i>Note: additional tests of this functionality, below.</i></li>
    			<li>Link to MP browser page.</li>
    			<li>Link to OMIM browser page.</li>
    			<li>Link to User Help with Booleans and other querying tips.</li>
    			<li>Some suggestions and additional text.</li>
    		</ul>
 			<p concordion:assertTrue="true">passed. -klf 3/31/2014</p>
    		<ol>
                <li>Verify the ribbon contains the elements described.</li>
                <li>Verify the Anatomical Systems popup opens a new window. <i>Note: additional tests below.</i></li>
    		</ol>
    		</li>

    		<li>The Anatomical Systems Affected by Phenotypes popup window has and does the following (same as on the <a href="../allele/">Allele Query Form</a>):
    		<p>Appearance:</p>
    		<ul>
				<li>Window with set dimensions and without "web browser chrome" (menubar, toolbar, URL bar, etc.).</li>
    			<li>Window title: Phenotypes Selection List.</li>
    			<li>Instructions text.</li>
    			<li>Buttons: "Add to Query" and "Cancel".</li>
    			<li>List of MP anatomical systems with checkboxes.</li>
    		</ul>
    		<p>Behavior:</p>
    		<ul>
    			<li>Checking boxes for anatomical systems and clicking "Add to Query" appends the corresponding MP IDs to whatever is already in the Phenotype/Disease input text box on the main form page and closes the popup.</li>
    			<li>The text terms for the selected anatomical systems are displayed to the right of the input text box.</li>
    			<li>Reopening the popup window displays previously selected terms with checkboxes still selected.</li>
    			<li>Additional terms may be selected.</li>
    			<li>Selecting additional terms and clicking "Add to Query" appends the corresponding MP IDs to whatever is already in the Phenotype/Disease input text box on the main form page and closes the popup.</li>
    			<li>The text terms in the cumulative set of selected anatomical systems are displayed to the right of the input text box.</li>
    			<li>In the popup window, clicking the text of the anatomical system also places a check in the corresponding checkbox (i.e., the user is not limited to checking inside the box).</li> 
    		</ul>
 			<p concordion:assertTrue="true">passed. -klf 3/31/2014</p>
    		<ol>
                <li>Open the Anatomical Systems popup. Select 3 systems by clicking on the text labels.</li>
                <li>Verify the checkboxes are checked.</li>
                <li>Click "Add to Query".</li>
                <li>Verify the popup window closes. Verify the MP IDs for the selected systems appear in the Phenotypes/Diseases input text box. Verify the text labels which were selected appear in the list to the right of the input text field on the main form.</li>
                <li>Add some text to the Phenotypes/Diseases input text box without removing the MP IDs already there.</li>
                <li>Reopen the Anatomical Systems popup. Verify the previously-selected systems are still selected.  Select 3 more systems.</li>
                <li>Click "Add to Query".</li>
                <li>Verify the popup window closes. Verify the MP IDs for the selected systems are added to existing text in the Phenotypes/Diseases input text box. Verify the text labels which were selected are added to the list to the right of the input text field on the main form.</li>
    		</ol>
    		</li>

			<li>After the first query submission, the query form appears to contract, and the contracted version remains visible at the top of the results set. The "contracted" form can be expanded and contracted by clicking its header area. (sto165)
 			<p concordion:assertTrue="true">passed. klf 4/11/2014</p>
 			<ol>
 				<li>Navigate to the Marker Query Form, enter <b>Pa*</b> in the Gene/Marker Symbol/Name field. </li>
 				<li>Click the <b>Select Anatomical Systems Affected by Phenotypes</b> link, select <b>cellular</b> and <b>craniofacial</b>, and click the Add To Query button.</li>
 				<li>Submit the query.</li>
 				<li>Verify that the query form appears to contract to a blue bar containing the <b>Click to modify search</b> button.</li>
 				<li>Verify that the summary of query results is displayed below the blue bar.</li>
 				<li>Click the <b>Click to modify search</b> button.</li>
 				<li>Verify that the query form appears to expand and the summary of query results remains displayed below the expanded query form.</li>
 			</ol>
			</li>

			<li>After each query submission, the query form remains populated with the user's last inputs and selections, including "Affected Systems" in the Pheno/Disease ribbon. (sto165)
 			<p concordion:assertTrue="true">passed. klf 4/11/2014</p>
 			<ol>
 				<li>Using the query submitted above, verify that the "Phenotype/Human Disease:" input field remains populated with <b>MP:0005384 MP:0005382</b>.</li>
 				<li>Verify that to the right of the "Phenotype/Human Disease:" input, text is displayed:<br/>
 					You selected:
 					<ul>
						<li>cellular (MP:0005384)</li>
						<li>craniofacial (MP:0005382)</li>
 					</ul>
 				</li> 
 			</ol>
			</li>


			<li>Opening the query form displays all input parameter ribbons and top and bottom buttons (nothing is cut off). (sto165)
 			<p concordion:assertTrue="true">passed. klf 4/11/2014</p>
 			<ol>
 				<li>Using the query submitted above, verify that the "Search" and "Reset" buttons are fully visible at the bottom of the form area.</li>
 				<li>Use the bottom buttons to submit the query again.</li>
 				<li>Verify that the query was performed (results set was refreshed).</li>
 			</ol>
			</li>

		</ol>
	</div>

	<div id="auto">
		<h3>Automated tests</h3>
		<ol>
    		<li>Test 1
    		<ol>
                <li>Step 1</li>
                <li>Step 2</li>
    		</ol>
    		</li>
		</ol>
 	</div>
</div>

</body>
</html>