package org.jax.mgi.fewi.hmdc.controller;

import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

import javax.servlet.http.HttpServletRequest;

import org.codehaus.jackson.map.ObjectMapper;
import org.jax.mgi.fewi.finder.MarkerFinder;
import org.jax.mgi.fewi.finder.TermFinder;
import org.jax.mgi.fewi.hmdc.finder.DiseasePortalFinder;
import org.jax.mgi.fewi.hmdc.forms.DiseasePortalCondition;
import org.jax.mgi.fewi.hmdc.forms.DiseasePortalConditionGroup;
import org.jax.mgi.fewi.hmdc.forms.DiseasePortalConditionQuery;
import org.jax.mgi.fewi.hmdc.models.GridResult;
import org.jax.mgi.fewi.hmdc.solr.SolrHdpDisease;
import org.jax.mgi.fewi.hmdc.solr.SolrHdpGridAnnotationEntry;
import org.jax.mgi.fewi.hmdc.solr.SolrHdpGridEntry;
import org.jax.mgi.fewi.hmdc.solr.SolrHdpMarker;
import org.jax.mgi.fewi.hmdc.visitors.GridVisitor;
import org.jax.mgi.fewi.searchUtil.Filter;
import org.jax.mgi.fewi.searchUtil.Filter.Operator;
import org.jax.mgi.fewi.searchUtil.SearchParams;
import org.jax.mgi.fewi.searchUtil.SearchResults;
import org.jax.mgi.shr.fe.indexconstants.DiseasePortalFields;
import org.jax.mgi.shr.jsonmodel.GridMarker;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.beans.factory.annotation.Value;
import org.springframework.http.MediaType;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestMethod;
import org.springframework.web.bind.annotation.ResponseBody;
import org.springframework.web.servlet.ModelAndView;

@Controller
@RequestMapping(value="/diseasePortal")
public class DiseasePortalController {


	// get the finders used by various methods
	@Autowired
	private DiseasePortalFinder hdpFinder;

	@Autowired
	private MarkerFinder markerFinder;

	@Autowired
	private TermFinder termFinder;

	@Value("${solr.factetNumberDefault}")
	private Integer facetLimit;


	@RequestMapping(method=RequestMethod.GET)
	public String getQueryForm() {
		return "hmdc/disease_portal_home";
	}

	@RequestMapping(value="/gridQuery", produces=MediaType.APPLICATION_JSON_VALUE)
	public @ResponseBody GridResult gridQuery(@RequestBody String jsonInput) throws Exception {

		SearchParams params = new SearchParams();
		params.setPageSize(1000000);

		Filter mainFilter = null;
		Filter highlightFilter = null;
		try {
			ObjectMapper mapper = new ObjectMapper();
			DiseasePortalConditionGroup group = (DiseasePortalConditionGroup)mapper.readValue(jsonInput, DiseasePortalConditionGroup.class);
			mainFilter = genQueryFilter(group);
			highlightFilter = genHighlightFilter(group);
			
		} catch (IOException e) {
			e.printStackTrace();
		}

		params.setFilter(mainFilter);
		params.setReturnFilterQuery(true);
		SearchResults<SolrHdpGridEntry> results = hdpFinder.getGridResults(params);
		
		List<String> gridKeys = new ArrayList<String>();
		
		for(SolrHdpGridEntry res: results.getResultObjects()) {
			gridKeys.add(res.getGridKey().toString());
		}
		
		Filter gridFilter = new Filter(DiseasePortalFields.GRID_KEY, gridKeys, Operator.OP_IN);
		params.setFilter(gridFilter);
		params.setPageSize(1000000);
		
		SearchResults<SolrHdpGridAnnotationEntry> annotationResults = hdpFinder.getGridAnnotationResults(params);
		
		params.setFilter(highlightFilter);
		List<String> highLights = hdpFinder.getGridHighlights(params);
		
		GridVisitor gv = new GridVisitor(results, annotationResults, highLights);

		return gv.getGridResult();

		//List<SolrHdpGridData>

		//		if(jsonInput.contains("long")) {
		//			return "{\"gridMPHeaders\":[\"behavior/neurological\",\"cardiovascular system\",\"cellular\",\"craniofacial\",\"digestive/alimentary system\",\"embryogenesis\",\"endocrine/exocrine glands\",\"growth/size/body\",\"hearing/vestibular/ear\",\"homeostasis/metabolism\",\"immune system\",\"integument\",\"mortality/aging\",\"muscle\",\"nervous system\",\"pigmentation\",\"renal/urinary system\",\"reproductive system\",\"respiratory system\",\"skeleton\",\"taste/olfaction\",\"tumorigenesis\",\"vision/eye\",\"normal phenotype\"],\"gridOMIMHeaders\":[\"Aniridia,Cerebellar Ataxia,and Mental Retardation\",\"Aniridia; AN\",\"Anterior Segment Mesenchymal Dysgenesis; ASMD\",\"Coloboma\",\"Foveal Hypoplasia 1; FVH1\",\"Keratitis,Hereditary\",\"Optic Nerve Hypoplasia,Bilateral\",\"Peters Anomaly\",\"Wilms Tumor,Aniridia,Genitourinary Anomalies,and Mental Retardation Syndrome; WAGR\"],\"gridHighLights\":[\"cellular\",\"embryogenesis\",\"growth/size/body\",\"skeleton\",\"vision/eye\"],\"gridRows\":[{\"gridCluster\":{\"gridClusterKey\":3426660,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<11Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<11Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 11\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346866\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>11Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3402321,\"homologeneId\":null,\"mouseSymbols\":[\"Pax6\"],\"humanSymbols\":[\"PAX6\"],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Pax6\",\"name\":\"paired box 6\",\"featureType\":\"protein coding gene\",\"markerKey\":\"12184\"}],\"humanMarkers\":[{\"symbol\":\"PAX6\",\"name\":\"paired box 6\",\"featureType\":\"\",\"markerKey\":\"22146\"}]},\"title\":\"PAX6,Pax6\",\"diseaseCells\":{\"Aniridia,Cerebellar Ataxia,and Mental Retardation\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Aniridia; AN\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":1},\"Anterior Segment Mesenchymal Dysgenesis; ASMD\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"Coloboma\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Foveal Hypoplasia 1; FVH1\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Keratitis,Hereditary\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":1},\"Optic Nerve Hypoplasia,Bilateral\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Peters Anomaly\":{\"isNormal\":false,\"annotCount\":5,\"humanAnnotCount\":1},\"Wilms Tumor,Aniridia,Genitourinary Anomalies,and Mental Retardation Syndrome; WAGR\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}},\"mpHeaderCells\":{\"behavior/neurological\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"cardiovascular system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"cellular\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"craniofacial\":{\"isNormal\":false,\"annotCount\":40,\"humanAnnotCount\":0},\"digestive/alimentary system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"embryogenesis\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"endocrine/exocrine glands\":{\"isNormal\":false,\"annotCount\":16,\"humanAnnotCount\":0},\"growth/size/body\":{\"isNormal\":false,\"annotCount\":22,\"humanAnnotCount\":0},\"hearing/vestibular/ear\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"homeostasis/metabolism\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"immune system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"integument\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":23,\"humanAnnotCount\":0},\"muscle\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":60,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":10,\"humanAnnotCount\":0},\"renal/urinary system\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"reproductive system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"respiratory system\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"skeleton\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":0},\"taste/olfaction\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":318,\"humanAnnotCount\":0},\"normal phenotype\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426662,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<12Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<12Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 12\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346879\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>12Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426661,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<13Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<13Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 13\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346877\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>13Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426764,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382178\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426765,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382179\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427445,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(PAX6)77Ndha\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(PAX6)77Ndha\",\"name\":\"transgene insertion 77,Nicholas Hastie\",\"featureType\":\"transgene\",\"markerKey\":\"446501\"}],\"humanMarkers\":[]},\"title\":\"Tg(PAX6)77Ndha\",\"diseaseCells\":{},\"mpHeaderCells\":{\"nervous system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":27,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427583,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-HRAS*G12V)2044Ove\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"name\":\"transgene insertion 2044,Paul A Overbeek\",\"featureType\":\"transgene\",\"markerKey\":\"451735\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":7,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427973,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-TAg)1796Hur\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-TAg)1796Hur\",\"name\":\"transgene insertion 1796,Richard L Hurwitz\",\"featureType\":\"transgene\",\"markerKey\":\"584110\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-TAg)1796Hur\",\"diseaseCells\":{\"Retinoblastoma; RB1\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}},\"mpHeaderCells\":{\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426660,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<11Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<11Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 11\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346866\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>11Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3402321,\"homologeneId\":null,\"mouseSymbols\":[\"Pax6\"],\"humanSymbols\":[\"PAX6\"],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Pax6\",\"name\":\"paired box 6\",\"featureType\":\"protein coding gene\",\"markerKey\":\"12184\"}],\"humanMarkers\":[{\"symbol\":\"PAX6\",\"name\":\"paired box 6\",\"featureType\":\"\",\"markerKey\":\"22146\"}]},\"title\":\"PAX6,Pax6\",\"diseaseCells\":{\"Aniridia,Cerebellar Ataxia,and Mental Retardation\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Aniridia; AN\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":1},\"Anterior Segment Mesenchymal Dysgenesis; ASMD\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"Coloboma\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Foveal Hypoplasia 1; FVH1\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Keratitis,Hereditary\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":1},\"Optic Nerve Hypoplasia,Bilateral\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Peters Anomaly\":{\"isNormal\":false,\"annotCount\":5,\"humanAnnotCount\":1},\"Wilms Tumor,Aniridia,Genitourinary Anomalies,and Mental Retardation Syndrome; WAGR\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}},\"mpHeaderCells\":{\"behavior/neurological\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"cardiovascular system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"cellular\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"craniofacial\":{\"isNormal\":false,\"annotCount\":40,\"humanAnnotCount\":0},\"digestive/alimentary system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"embryogenesis\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"endocrine/exocrine glands\":{\"isNormal\":false,\"annotCount\":16,\"humanAnnotCount\":0},\"growth/size/body\":{\"isNormal\":false,\"annotCount\":22,\"humanAnnotCount\":0},\"hearing/vestibular/ear\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"homeostasis/metabolism\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"immune system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"integument\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":23,\"humanAnnotCount\":0},\"muscle\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":60,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":10,\"humanAnnotCount\":0},\"renal/urinary system\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"reproductive system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"respiratory system\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"skeleton\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":0},\"taste/olfaction\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":318,\"humanAnnotCount\":0},\"normal phenotype\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426662,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<12Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<12Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 12\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346879\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>12Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426661,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<13Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<13Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 13\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346877\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>13Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426764,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382178\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426765,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382179\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427445,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(PAX6)77Ndha\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(PAX6)77Ndha\",\"name\":\"transgene insertion 77,Nicholas Hastie\",\"featureType\":\"transgene\",\"markerKey\":\"446501\"}],\"humanMarkers\":[]},\"title\":\"Tg(PAX6)77Ndha\",\"diseaseCells\":{},\"mpHeaderCells\":{\"nervous system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":27,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427583,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-HRAS*G12V)2044Ove\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"name\":\"transgene insertion 2044,Paul A Overbeek\",\"featureType\":\"transgene\",\"markerKey\":\"451735\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":7,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427973,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-TAg)1796Hur\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-TAg)1796Hur\",\"name\":\"transgene insertion 1796,Richard L Hurwitz\",\"featureType\":\"transgene\",\"markerKey\":\"584110\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-TAg)1796Hur\",\"diseaseCells\":{\"Retinoblastoma; RB1\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}},\"mpHeaderCells\":{\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426660,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<11Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<11Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 11\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346866\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>11Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3402321,\"homologeneId\":null,\"mouseSymbols\":[\"Pax6\"],\"humanSymbols\":[\"PAX6\"],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Pax6\",\"name\":\"paired box 6\",\"featureType\":\"protein coding gene\",\"markerKey\":\"12184\"}],\"humanMarkers\":[{\"symbol\":\"PAX6\",\"name\":\"paired box 6\",\"featureType\":\"\",\"markerKey\":\"22146\"}]},\"title\":\"PAX6,Pax6\",\"diseaseCells\":{\"Aniridia,Cerebellar Ataxia,and Mental Retardation\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Aniridia; AN\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":1},\"Anterior Segment Mesenchymal Dysgenesis; ASMD\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"Coloboma\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Foveal Hypoplasia 1; FVH1\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Keratitis,Hereditary\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":1},\"Optic Nerve Hypoplasia,Bilateral\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Peters Anomaly\":{\"isNormal\":false,\"annotCount\":5,\"humanAnnotCount\":1},\"Wilms Tumor,Aniridia,Genitourinary Anomalies,and Mental Retardation Syndrome; WAGR\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}},\"mpHeaderCells\":{\"behavior/neurological\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"cardiovascular system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"cellular\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"craniofacial\":{\"isNormal\":false,\"annotCount\":40,\"humanAnnotCount\":0},\"digestive/alimentary system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"embryogenesis\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"endocrine/exocrine glands\":{\"isNormal\":false,\"annotCount\":16,\"humanAnnotCount\":0},\"growth/size/body\":{\"isNormal\":false,\"annotCount\":22,\"humanAnnotCount\":0},\"hearing/vestibular/ear\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"homeostasis/metabolism\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"immune system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"integument\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":23,\"humanAnnotCount\":0},\"muscle\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":60,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":10,\"humanAnnotCount\":0},\"renal/urinary system\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"reproductive system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"respiratory system\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"skeleton\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":0},\"taste/olfaction\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":318,\"humanAnnotCount\":0},\"normal phenotype\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426662,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<12Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<12Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 12\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346879\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>12Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426661,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<13Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<13Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 13\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346877\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>13Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426764,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382178\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426765,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382179\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427445,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(PAX6)77Ndha\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(PAX6)77Ndha\",\"name\":\"transgene insertion 77,Nicholas Hastie\",\"featureType\":\"transgene\",\"markerKey\":\"446501\"}],\"humanMarkers\":[]},\"title\":\"Tg(PAX6)77Ndha\",\"diseaseCells\":{},\"mpHeaderCells\":{\"nervous system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":27,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427583,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-HRAS*G12V)2044Ove\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"name\":\"transgene insertion 2044,Paul A Overbeek\",\"featureType\":\"transgene\",\"markerKey\":\"451735\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":7,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427973,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-TAg)1796Hur\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-TAg)1796Hur\",\"name\":\"transgene insertion 1796,Richard L Hurwitz\",\"featureType\":\"transgene\",\"markerKey\":\"584110\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-TAg)1796Hur\",\"diseaseCells\":{\"Retinoblastoma; RB1\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}},\"mpHeaderCells\":{\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426660,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<11Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<11Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 11\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346866\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>11Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3402321,\"homologeneId\":null,\"mouseSymbols\":[\"Pax6\"],\"humanSymbols\":[\"PAX6\"],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Pax6\",\"name\":\"paired box 6\",\"featureType\":\"protein coding gene\",\"markerKey\":\"12184\"}],\"humanMarkers\":[{\"symbol\":\"PAX6\",\"name\":\"paired box 6\",\"featureType\":\"\",\"markerKey\":\"22146\"}]},\"title\":\"PAX6,Pax6\",\"diseaseCells\":{\"Aniridia,Cerebellar Ataxia,and Mental Retardation\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Aniridia; AN\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":1},\"Anterior Segment Mesenchymal Dysgenesis; ASMD\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"Coloboma\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Foveal Hypoplasia 1; FVH1\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Keratitis,Hereditary\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":1},\"Optic Nerve Hypoplasia,Bilateral\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Peters Anomaly\":{\"isNormal\":false,\"annotCount\":5,\"humanAnnotCount\":1},\"Wilms Tumor,Aniridia,Genitourinary Anomalies,and Mental Retardation Syndrome; WAGR\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}},\"mpHeaderCells\":{\"behavior/neurological\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"cardiovascular system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"cellular\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"craniofacial\":{\"isNormal\":false,\"annotCount\":40,\"humanAnnotCount\":0},\"digestive/alimentary system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"embryogenesis\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"endocrine/exocrine glands\":{\"isNormal\":false,\"annotCount\":16,\"humanAnnotCount\":0},\"growth/size/body\":{\"isNormal\":false,\"annotCount\":22,\"humanAnnotCount\":0},\"hearing/vestibular/ear\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"homeostasis/metabolism\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"immune system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"integument\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":23,\"humanAnnotCount\":0},\"muscle\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":60,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":10,\"humanAnnotCount\":0},\"renal/urinary system\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"reproductive system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"respiratory system\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"skeleton\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":0},\"taste/olfaction\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":318,\"humanAnnotCount\":0},\"normal phenotype\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426662,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<12Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<12Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 12\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346879\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>12Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426661,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<13Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<13Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 13\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346877\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>13Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426764,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382178\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426765,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382179\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427445,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(PAX6)77Ndha\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(PAX6)77Ndha\",\"name\":\"transgene insertion 77,Nicholas Hastie\",\"featureType\":\"transgene\",\"markerKey\":\"446501\"}],\"humanMarkers\":[]},\"title\":\"Tg(PAX6)77Ndha\",\"diseaseCells\":{},\"mpHeaderCells\":{\"nervous system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":27,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427583,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-HRAS*G12V)2044Ove\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"name\":\"transgene insertion 2044,Paul A Overbeek\",\"featureType\":\"transgene\",\"markerKey\":\"451735\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":7,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427973,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-TAg)1796Hur\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-TAg)1796Hur\",\"name\":\"transgene insertion 1796,Richard L Hurwitz\",\"featureType\":\"transgene\",\"markerKey\":\"584110\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-TAg)1796Hur\",\"diseaseCells\":{\"Retinoblastoma; RB1\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}},\"mpHeaderCells\":{\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426660,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<11Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<11Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 11\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346866\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>11Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3402321,\"homologeneId\":null,\"mouseSymbols\":[\"Pax6\"],\"humanSymbols\":[\"PAX6\"],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Pax6\",\"name\":\"paired box 6\",\"featureType\":\"protein coding gene\",\"markerKey\":\"12184\"}],\"humanMarkers\":[{\"symbol\":\"PAX6\",\"name\":\"paired box 6\",\"featureType\":\"\",\"markerKey\":\"22146\"}]},\"title\":\"PAX6,Pax6\",\"diseaseCells\":{\"Aniridia,Cerebellar Ataxia,and Mental Retardation\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Aniridia; AN\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":1},\"Anterior Segment Mesenchymal Dysgenesis; ASMD\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"Coloboma\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Foveal Hypoplasia 1; FVH1\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Keratitis,Hereditary\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":1},\"Optic Nerve Hypoplasia,Bilateral\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Peters Anomaly\":{\"isNormal\":false,\"annotCount\":5,\"humanAnnotCount\":1},\"Wilms Tumor,Aniridia,Genitourinary Anomalies,and Mental Retardation Syndrome; WAGR\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}},\"mpHeaderCells\":{\"behavior/neurological\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"cardiovascular system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"cellular\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"craniofacial\":{\"isNormal\":false,\"annotCount\":40,\"humanAnnotCount\":0},\"digestive/alimentary system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"embryogenesis\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"endocrine/exocrine glands\":{\"isNormal\":false,\"annotCount\":16,\"humanAnnotCount\":0},\"growth/size/body\":{\"isNormal\":false,\"annotCount\":22,\"humanAnnotCount\":0},\"hearing/vestibular/ear\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"homeostasis/metabolism\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"immune system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"integument\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":23,\"humanAnnotCount\":0},\"muscle\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":60,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":10,\"humanAnnotCount\":0},\"renal/urinary system\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"reproductive system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"respiratory system\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"skeleton\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":0},\"taste/olfaction\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":318,\"humanAnnotCount\":0},\"normal phenotype\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426662,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<12Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<12Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 12\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346879\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>12Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426661,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<13Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<13Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 13\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346877\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>13Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426764,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382178\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426765,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382179\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427445,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(PAX6)77Ndha\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(PAX6)77Ndha\",\"name\":\"transgene insertion 77,Nicholas Hastie\",\"featureType\":\"transgene\",\"markerKey\":\"446501\"}],\"humanMarkers\":[]},\"title\":\"Tg(PAX6)77Ndha\",\"diseaseCells\":{},\"mpHeaderCells\":{\"nervous system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":27,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427583,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-HRAS*G12V)2044Ove\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"name\":\"transgene insertion 2044,Paul A Overbeek\",\"featureType\":\"transgene\",\"markerKey\":\"451735\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":7,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427973,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-TAg)1796Hur\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-TAg)1796Hur\",\"name\":\"transgene insertion 1796,Richard L Hurwitz\",\"featureType\":\"transgene\",\"markerKey\":\"584110\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-TAg)1796Hur\",\"diseaseCells\":{\"Retinoblastoma; RB1\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}},\"mpHeaderCells\":{\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}}]}";
		//		}
		//		if(!jsonInput.contains("pax6")) {
		//			return "{\"gridMPHeaders\":[\"behavior/neurological\",\"cardiovascular system\",\"cellular\",\"craniofacial\",\"digestive/alimentary system\",\"embryogenesis\",\"endocrine/exocrine glands\",\"growth/size/body\",\"hematopoietic system\",\"homeostasis/metabolism\",\"immune system\",\"integument\",\"limbs/digits/tail\",\"liver/biliary system\",\"mortality/aging\",\"muscle\",\"nervous system\",\"renal/urinary system\",\"reproductive system\",\"respiratory system\",\"skeleton\",\"tumorigenesis\",\"vision/eye\" ],\"gridOMIMHeaders\":[\"Aniridia,Cerebellar Ataxia,and Mental Retardation\",\"Myxoid Liposarcoma\",\"Nicolaides-Baraitser Syndrome; NCBRS\",\"Protoporphyria,Erythropoietic\",\"Thiamine-Responsive Dysfunction Syndrome\",\"Tooth Agenesis,Selective\" ],\"gridRows\":[{\"gridCluster\":{\"gridClusterKey\":3416567,\"homologeneId\":null,\"mouseSymbols\":[\"Pax9\" ],\"humanSymbols\":[\"PAX9\" ],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Pax9\",\"name\":\"paired box 9\",\"featureType\":\"protein coding gene\",\"markerKey\":\"12187\"}],\"humanMarkers\":[{\"symbol\":\"PAX9\",\"name\":\"paired box 9\",\"featureType\":\"\",\"markerKey\":\"22149\"}]},\"diseaseCells\":{\"Tooth Agenesis,Selective\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":1}},\"mpHeaderCells\":{\"craniofacial\":{\"isNormal\":false,\"annotCount\":19,\"humanAnnotCount\":4},\"endocrine/exocrine glands\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"growth/size/body\":{\"isNormal\":false,\"annotCount\":20,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3395003,\"homologeneId\":null,\"mouseSymbols\":[\"Slc25a19\" ],\"humanSymbols\":[\"SLC25A19\" ],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Slc25a19\",\"name\":\"solute carrier family 25 (mitochondrial thiamine pyrophosphate carrier),member 19\",\"featureType\":\"protein coding gene\",\"markerKey\":\"51263\"}],\"humanMarkers\":[{\"symbol\":\"SLC25A19\",\"name\":\"solute carrier family 25 (mitochondrial thiamine pyrophosphate carrier),member 19\",\"featureType\":\"\",\"markerKey\":\"78684\"}]},\"diseaseCells\":{\"Thiamine-Responsive Dysfunction Syndrome\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":2}},\"mpHeaderCells\":{\"behavior/neurological\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"cellular\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"craniofacial\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":4},\"embryogenesis\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":0},\"growth/size/body\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":2},\"hematopoietic system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"homeostasis/metabolism\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":2},\"limbs/digits/tail\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"liver/biliary system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":4},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"muscle\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":7},\"nervous system\":{\"isNormal\":false,\"annotCount\":7,\"humanAnnotCount\":4},\"renal/urinary system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"skeleton\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":7},\"vision/eye\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}}},{\"gridCluster\":{\"gridClusterKey\":3411870,\"homologeneId\":null,\"mouseSymbols\":[\"Alas2\" ],\"humanSymbols\":[\"ALAS2\" ],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Alas2\",\"name\":\"aminolevulinic acid synthase 2,erythroid\",\"featureType\":\"protein coding gene\",\"markerKey\":\"272\"}],\"humanMarkers\":[{\"symbol\":\"ALAS2\",\"name\":\"5'-aminolevulinate synthase 2\",\"featureType\":\"\",\"markerKey\":\"20811\"}]},\"diseaseCells\":{\"Anemia,Sideroblastic\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Protoporphyria,Erythropoietic\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}},\"mpHeaderCells\":{\"cardiovascular system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"endocrine/exocrine glands\":{\"isNormal\":true,\"annotCount\":0,\"humanAnnotCount\":1},\"hematopoietic system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":7},\"homeostasis/metabolism\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"immune system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"integument\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":4},\"liver/biliary system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":4},\"respiratory system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}}},{\"gridCluster\":{\"gridClusterKey\":3418381,\"homologeneId\":null,\"mouseSymbols\":[\"Ddit3\" ],\"humanSymbols\":[\"DDIT3\" ],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Ddit3\",\"name\":\"DNA-damage inducible transcript 3\",\"featureType\":\"protein coding gene\",\"markerKey\":\"31159\"}],\"humanMarkers\":[{\"symbol\":\"DDIT3\",\"name\":\"DNA-damage-inducible transcript 3\",\"featureType\":\"\",\"markerKey\":\"21302\"}]},\"diseaseCells\":{\"Myxoid Liposarcoma\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}},\"mpHeaderCells\":{\"digestive/alimentary system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"integument\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"nervous system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"renal/urinary system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"respiratory system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":4}}},{\"gridCluster\":{\"gridClusterKey\":3396134,\"homologeneId\":null,\"mouseSymbols\":[\"Idh2\" ],\"humanSymbols\":[\"IDH2\" ],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Idh2\",\"name\":\"isocitrate dehydrogenase 2 (NADP+),mitochondrial\",\"featureType\":\"protein coding gene\",\"markerKey\":\"10198\"}],\"humanMarkers\":[{\"symbol\":\"IDH2\",\"name\":\"isocitrate dehydrogenase 2 (NADP+),mitochondrial\",\"featureType\":\"\",\"markerKey\":\"95644\"}]},\"diseaseCells\":{\"D-2-Hydroxyglutaric Aciduria\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}},\"mpHeaderCells\":{\"cardiovascular system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"homeostasis/metabolism\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"muscle\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"nervous system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":4}}},{\"gridCluster\":{\"gridClusterKey\":3414732,\"homologeneId\":null,\"mouseSymbols\":[\"Smarca2\" ],\"humanSymbols\":[\"SMARCA2\" ],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Smarca2\",\"name\":\"SWI/SNF related,matrix associated,actin dependent regulator of chromatin,subfamily a,member 2\",\"featureType\":\"protein coding gene\",\"markerKey\":\"36212\"}],\"humanMarkers\":[{\"symbol\":\"SMARCA2\",\"name\":\"SWI/SNF related,matrix associated,actin dependent regulator of chromatin,subfamily a,member 2\",\"featureType\":\"\",\"markerKey\":\"64992\"}]},\"diseaseCells\":{\"Nicolaides-Baraitser Syndrome; NCBRS\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}},\"mpHeaderCells\":{\"craniofacial\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":7},\"growth/size/body\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":4},\"integument\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":7},\"limbs/digits/tail\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":4},\"nervous system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":7},\"respiratory system\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":4},\"skeleton\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":7}}}]}";
		//		} else {
		//			return "{\"gridMPHeaders\":[\"behavior/neurological\",\"cardiovascular system\",\"cellular\",\"craniofacial\",\"digestive/alimentary system\",\"embryogenesis\",\"endocrine/exocrine glands\",\"growth/size/body\",\"hearing/vestibular/ear\",\"homeostasis/metabolism\",\"immune system\",\"integument\",\"mortality/aging\",\"muscle\",\"nervous system\",\"pigmentation\",\"renal/urinary system\",\"reproductive system\",\"respiratory system\",\"skeleton\",\"taste/olfaction\",\"tumorigenesis\",\"vision/eye\",\"normal phenotype\"],\"gridOMIMHeaders\":[\"Aniridia,Cerebellar Ataxia,and Mental Retardation\",\"Aniridia; AN\",\"Anterior Segment Mesenchymal Dysgenesis; ASMD\",\"Coloboma\",\"Foveal Hypoplasia 1; FVH1\",\"Keratitis,Hereditary\",\"Optic Nerve Hypoplasia,Bilateral\",\"Peters Anomaly\",\"Wilms Tumor,Aniridia,Genitourinary Anomalies,and Mental Retardation Syndrome; WAGR\"],\"gridHighLights\":[],\"gridRows\":[{\"gridCluster\":{\"gridClusterKey\":3426660,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<11Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<11Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 11\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346866\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>11Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3402321,\"homologeneId\":null,\"mouseSymbols\":[\"Pax6\"],\"humanSymbols\":[\"PAX6\"],\"homologySource\":\"HomoloGene\",\"mouseMarkers\":[{\"symbol\":\"Pax6\",\"name\":\"paired box 6\",\"featureType\":\"protein coding gene\",\"markerKey\":\"12184\"}],\"humanMarkers\":[{\"symbol\":\"PAX6\",\"name\":\"paired box 6\",\"featureType\":\"\",\"markerKey\":\"22146\"}]},\"title\":\"PAX6,Pax6\",\"diseaseCells\":{\"Aniridia,Cerebellar Ataxia,and Mental Retardation\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Aniridia; AN\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":1},\"Anterior Segment Mesenchymal Dysgenesis; ASMD\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"Coloboma\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Foveal Hypoplasia 1; FVH1\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Keratitis,Hereditary\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":1},\"Optic Nerve Hypoplasia,Bilateral\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1},\"Peters Anomaly\":{\"isNormal\":false,\"annotCount\":5,\"humanAnnotCount\":1},\"Wilms Tumor,Aniridia,Genitourinary Anomalies,and Mental Retardation Syndrome; WAGR\":{\"isNormal\":false,\"annotCount\":0,\"humanAnnotCount\":1}},\"mpHeaderCells\":{\"behavior/neurological\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"cardiovascular system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"cellular\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"craniofacial\":{\"isNormal\":false,\"annotCount\":40,\"humanAnnotCount\":0},\"digestive/alimentary system\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"embryogenesis\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"endocrine/exocrine glands\":{\"isNormal\":false,\"annotCount\":16,\"humanAnnotCount\":0},\"growth/size/body\":{\"isNormal\":false,\"annotCount\":22,\"humanAnnotCount\":0},\"hearing/vestibular/ear\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"homeostasis/metabolism\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"immune system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"integument\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":23,\"humanAnnotCount\":0},\"muscle\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":60,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":10,\"humanAnnotCount\":0},\"renal/urinary system\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"reproductive system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"respiratory system\":{\"isNormal\":false,\"annotCount\":11,\"humanAnnotCount\":0},\"skeleton\":{\"isNormal\":false,\"annotCount\":6,\"humanAnnotCount\":0},\"taste/olfaction\":{\"isNormal\":false,\"annotCount\":3,\"humanAnnotCount\":0},\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":318,\"humanAnnotCount\":0},\"normal phenotype\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426662,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<12Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<12Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 12\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346879\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>12Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"nervous system\":{\"isNormal\":false,\"annotCount\":4,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":9,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426661,\"homologeneId\":null,\"mouseSymbols\":[\"Del(2)Pax6<13Neu>\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Del(2)Pax6<13Neu>\",\"name\":\"deletion,Chr 2,Neuherberg 13\",\"featureType\":\"chromosomal deletion\",\"markerKey\":\"346877\"}],\"humanMarkers\":[]},\"title\":\"Del(2)Pax6<sup>13Neu</sup>\",\"diseaseCells\":{},\"mpHeaderCells\":{\"growth/size/body\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"mortality/aging\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426764,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382178\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6*5a,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":true,\"annotCount\":1,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3426765,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"name\":\"transgene insertion 1,Anastassia Stoykova\",\"featureType\":\"transgene\",\"markerKey\":\"382179\"}],\"humanMarkers\":[]},\"title\":\"Tg(CAG-EGFP,-Pax6,-lacZ)1Stoy\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427445,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(PAX6)77Ndha\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(PAX6)77Ndha\",\"name\":\"transgene insertion 77,Nicholas Hastie\",\"featureType\":\"transgene\",\"markerKey\":\"446501\"}],\"humanMarkers\":[]},\"title\":\"Tg(PAX6)77Ndha\",\"diseaseCells\":{},\"mpHeaderCells\":{\"nervous system\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"pigmentation\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":27,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427583,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-HRAS*G12V)2044Ove\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"name\":\"transgene insertion 2044,Paul A Overbeek\",\"featureType\":\"transgene\",\"markerKey\":\"451735\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-HRAS*G12V)2044Ove\",\"diseaseCells\":{},\"mpHeaderCells\":{\"vision/eye\":{\"isNormal\":false,\"annotCount\":7,\"humanAnnotCount\":0}}},{\"gridCluster\":{\"gridClusterKey\":3427973,\"homologeneId\":null,\"mouseSymbols\":[\"Tg(Pax6-TAg)1796Hur\"],\"humanSymbols\":[],\"homologySource\":null,\"mouseMarkers\":[{\"symbol\":\"Tg(Pax6-TAg)1796Hur\",\"name\":\"transgene insertion 1796,Richard L Hurwitz\",\"featureType\":\"transgene\",\"markerKey\":\"584110\"}],\"humanMarkers\":[]},\"title\":\"Tg(Pax6-TAg)1796Hur\",\"diseaseCells\":{\"Retinoblastoma; RB1\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}},\"mpHeaderCells\":{\"tumorigenesis\":{\"isNormal\":false,\"annotCount\":2,\"humanAnnotCount\":0},\"vision/eye\":{\"isNormal\":false,\"annotCount\":1,\"humanAnnotCount\":0}}}]}";
		//		}

		//Map<String, Map<String, List<String>>> highlights = rsp.getHighlighting();

	}

	@RequestMapping(value="/geneQuery")
	public @ResponseBody List<SolrHdpMarker> geneQuery(@RequestBody String jsonInput) throws Exception {

		SearchParams params = new SearchParams();
		params.setPageSize(1000000);

		try {
			ObjectMapper mapper = new ObjectMapper();
			DiseasePortalConditionGroup group = (DiseasePortalConditionGroup)mapper.readValue(jsonInput, DiseasePortalConditionGroup.class);
			params.setFilter(genQueryFilter(group));
		} catch (IOException e) {
			e.printStackTrace();
		}

		SearchResults<SolrHdpMarker> searchResults = hdpFinder.getMarkers(params);

		return searchResults.getResultObjects();
	}

	@RequestMapping(value="/diseaseQuery")
	public @ResponseBody List<SolrHdpDisease> diseaseQuery(@RequestBody String jsonInput) throws Exception {

		SearchParams params = new SearchParams();
		params.setPageSize(1000000);

		try {
			ObjectMapper mapper = new ObjectMapper();
			DiseasePortalConditionGroup group = (DiseasePortalConditionGroup)mapper.readValue(jsonInput, DiseasePortalConditionGroup.class);
			params.setFilter(genQueryFilter(group));
		} catch (IOException e) {
			e.printStackTrace();
		}

		SearchResults<SolrHdpDisease> searchResults = hdpFinder.getDiseases(params);

		return searchResults.getResultObjects();

	}

	private Filter genHighlightFilter(DiseasePortalConditionGroup group) {
		
		List<Filter> filterList = new ArrayList<Filter>();

		for(DiseasePortalConditionQuery cq: group.getQueries()) {
			Filter f = cq.genHighlightFilter();
			if(f != null) {
				filterList.add(f);
			}
		}
		// Always return OR so that multiple terms across an AND search will be highlighted.
		return Filter.or(filterList);
	}

	private Filter genQueryFilter(DiseasePortalConditionGroup group) {

		List<Filter> filterList = new ArrayList<Filter>();

		for(DiseasePortalConditionQuery cq: group.getQueries()) {
			filterList.add(cq.genFilter());
		}

		if(group.getOperator().equals("AND")) {
			return Filter.and(filterList);
		} else {
			return Filter.or(filterList);
		}
	}

	/* Serve up a phenotype popup, from clicking a phenotype cell on the HMDC grid.
	 * Expects two parameters in the request: gridClusterKey and header.  Any phenotype or
	 * disease terms or IDs can be passed in for highlighting using the (optional)
	 * term or termId parameters; multiples of each can be submitted.
	 */
	@RequestMapping(value="/phenotypePopup", method=RequestMethod.GET)
	public ModelAndView getPhenotypePopup(HttpServletRequest request) {
		return this.getPopup(request, true);
	}

	/* Serve up a disease popup, from clicking a disease cell on the HMDC grid.
	 * Expects two parameters in the request: gridClusterKey and header.  Any phenotype or
	 * disease terms or IDs can be passed in for highlighting using the (optional)
	 * term or termId parameters; multiples of each can be submitted.
	 */
	@RequestMapping(value="/diseasePopup", method=RequestMethod.GET)
	public ModelAndView getDiseasePopup(HttpServletRequest request) {
		return this.getPopup(request, false);
	}

	/* Serve up a phenotype or disease popup, from clicking a cell on the HMDC grid.
	 * Expects two parameters in the request: gridClusterKey and header.  Any phenotype or
	 * disease terms or IDs can be passed in for highlighting using the (optional)
	 * term or termId parameters; multiples of each can be submitted.  The 'isPhenotype'
	 * parameter should be true for phenotype popups and false for disease popups.
	 */
	private ModelAndView getPopup(HttpServletRequest request, boolean isPhenotype) {
		// collect the required parameters and check that they are specified
		String gridClusterKey = request.getParameter("gridClusterKey");
		if (gridClusterKey == null) { return errorMav("Missing gridClusterKey parameter"); }

		String header = request.getParameter("header");
		if (header == null) { return errorMav("Missing header parameter"); }

		// convert the required parameters into a Filter object
		DiseasePortalConditionGroup queryGroup = new DiseasePortalConditionGroup();
		queryGroup.setOperator("AND");

		List<DiseasePortalConditionQuery> queries = new ArrayList<DiseasePortalConditionQuery>();

		DiseasePortalConditionQuery clusterQuery = new DiseasePortalConditionQuery();
		DiseasePortalCondition clusterCondition = new DiseasePortalCondition();
		clusterCondition.setInput(gridClusterKey);
		clusterQuery.setField(DiseasePortalFields.GRID_CLUSTER_KEY);
		clusterQuery.setCondition(clusterCondition);
		queries.add(clusterQuery);

		DiseasePortalConditionQuery headerQuery = new DiseasePortalConditionQuery();
		DiseasePortalCondition headerCondition = new DiseasePortalCondition();
		headerCondition.setInput(header);
		headerQuery.setField(DiseasePortalFields.TERM_HEADER);
		headerQuery.setCondition(headerCondition);
		queries.add(headerQuery);
		
		queryGroup.setQueries(queries);
		Filter mainFilter = genQueryFilter(queryGroup);
		
		// run the query to get the set of grid results
		SearchParams params = new SearchParams();
		params.setPageSize(10000);
		params.setFilter(mainFilter);
		params.setReturnFilterQuery(true);
		SearchResults<SolrHdpGridEntry> results = hdpFinder.getGridResults(params);
		
		// collect the grid results and get their annotations
		List<String> gridKeys = new ArrayList<String>();
		List<SolrHdpGridEntry> gridResults = results.getResultObjects();
		for(SolrHdpGridEntry res: gridResults) {
			gridKeys.add(res.getGridKey().toString());
		}
		
		// pull out marker data needed for header
		List<String> humanMarkers = null;
		List<String> mouseMarkers = null;
		
		if (gridResults.size() > 0) {
			SolrHdpGridEntry first = gridResults.get(0);

			mouseMarkers = new ArrayList<String>();
			humanMarkers = new ArrayList<String>();
			
			for (GridMarker marker : first.getGridHumanSymbols()) { humanMarkers.add(marker.getSymbol()); }
			for (GridMarker marker : first.getGridMouseSymbols()) { mouseMarkers.add(marker.getSymbol()); }
		}
		
		Filter gridFilter = new Filter(DiseasePortalFields.GRID_KEY, gridKeys, Operator.OP_IN);
		params.setFilter(gridFilter);
		
		SearchResults<SolrHdpGridAnnotationEntry> annotationResults = hdpFinder.getGridAnnotationResults(params);

		// begin collecting the mav to return
		ModelAndView mav = new ModelAndView("hmdc/popup");
		
		// add the required parameters
		mav.addObject("gridClusterKey", gridClusterKey);
		mav.addObject("headerTerm", header);
		
		if (isPhenotype) {
			mav.addObject("isPhenotype", 1);
		} else {
			mav.addObject("isDisease", 1);
		}
		
		// add any (optional) terms and term IDs that were specified to use for column highlighting
		String[] terms = request.getParameterValues("term");
		String[] termIds = request.getParameterValues("termId");
		
		if (terms != null && terms.length > 0) { mav.addObject("highlightTerms", terms); }
		if (termIds != null && termIds.length > 0) { mav.addObject("highlightTermIds", termIds); }

		if (mouseMarkers != null && mouseMarkers.size() > 0) { mav.addObject("mouseMarkers", mouseMarkers.toArray(new String[0])); }
		if (humanMarkers != null && humanMarkers.size() > 0) { mav.addObject("humanMarkers", humanMarkers.toArray(new String[0])); }

		mav.addObject("gridKeyCount", gridKeys.size());
		mav.addObject("annotationCount", annotationResults.getTotalCount());
		return mav;
	}

	/* build and return a mav for a page with the given error message
	 */
	private ModelAndView errorMav(String msg) {
		ModelAndView mav = new ModelAndView("error");
		mav.addObject("errorMsg", msg);
		return mav;
	}
}

	